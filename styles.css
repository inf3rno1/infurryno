/* ═══════════════════════════════════════════
   I AM ATOMIC — RYZEN FELIX
   Cid Kagenou Energy Release Animation
   ═══════════════════════════════════════════ */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    user-select: none
}

:root {
    --purple: #7c2dff;
    --violet: #a855f7;
    --cyan: #00d4ff;
    --red: #ff2d55;
    --gold: #ffd700;
    --pg: rgba(124, 45, 255, 0.7);
    --deep: #0a0020;
}

html,
body {
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: #000;
    cursor: none
}

/* ═══ OVERLAYS ═══ */
#grain {
    position: fixed;
    inset: 0;
    z-index: 9999;
    pointer-events: none;
    opacity: 0.04;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    animation: grainShift 0.15s steps(3) infinite
}

@keyframes grainShift {
    0% {
        transform: translate(0)
    }

    33% {
        transform: translate(-2px, 1px)
    }

    66% {
        transform: translate(1px, -1px)
    }

    100% {
        transform: translate(-1px, 2px)
    }
}

#scanlines {
    position: fixed;
    inset: 0;
    z-index: 9998;
    pointer-events: none;
    background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 0, 0, 0.06) 2px, rgba(0, 0, 0, 0.06) 4px)
}

#vignette {
    position: fixed;
    inset: 0;
    z-index: 9997;
    pointer-events: none;
    background: radial-gradient(ellipse at 50% 50%, transparent 30%, rgba(0, 0, 0, 0.7) 100%)
}

/* ═══ GIF BACKGROUND ═══ */
#gifBg {
    position: fixed;
    inset: 0;
    z-index: 1
}

#cidGif {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: brightness(0.5) contrast(1.3) saturate(1.5)
}

#gifVig {
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 50% 50%, transparent 15%, rgba(0, 0, 0, 0.85) 100%),
        linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, transparent 40%)
}

/* ═══ CANVAS ═══ */
#fxCanvas {
    position: fixed;
    inset: 0;
    z-index: 100;
    pointer-events: none
}

/* ═══ SHAKE WRAPPER ═══ */
#shakeWrap {
    position: fixed;
    inset: 0;
    z-index: 50
}

#shakeWrap.shake {
    animation: screenShake 0.5s ease
}

#shakeWrap.shake2 {
    animation: screenShake2 0.3s ease
}

#shakeWrap.megaShake {
    animation: megaShake 0.8s ease
}

@keyframes screenShake {
    0% {
        transform: translate(0)
    }

    10% {
        transform: translate(-8px, 5px) rotate(-0.5deg)
    }

    20% {
        transform: translate(10px, -8px) rotate(0.5deg)
    }

    30% {
        transform: translate(-12px, 3px) rotate(-1deg)
    }

    40% {
        transform: translate(6px, -10px) rotate(0.3deg)
    }

    50% {
        transform: translate(-4px, 8px) rotate(-0.2deg)
    }

    60% {
        transform: translate(8px, -3px)
    }

    70% {
        transform: translate(-6px, 6px)
    }

    80% {
        transform: translate(3px, -4px)
    }

    90% {
        transform: translate(-2px, 2px)
    }

    100% {
        transform: translate(0)
    }
}

@keyframes screenShake2 {
    0% {
        transform: translate(0)
    }

    25% {
        transform: translate(-5px, 3px)
    }

    50% {
        transform: translate(5px, -5px)
    }

    75% {
        transform: translate(-3px, 2px)
    }

    100% {
        transform: translate(0)
    }
}

@keyframes megaShake {
    0% {
        transform: translate(0) scale(1)
    }

    5% {
        transform: translate(-15px, 10px) rotate(-2deg) scale(1.02)
    }

    10% {
        transform: translate(18px, -12px) rotate(2deg) scale(0.98)
    }

    15% {
        transform: translate(-20px, 5px) rotate(-3deg) scale(1.03)
    }

    20% {
        transform: translate(12px, -15px) rotate(1.5deg) scale(1.01)
    }

    25% {
        transform: translate(-8px, 12px) rotate(-1deg) scale(0.99)
    }

    35% {
        transform: translate(6px, -8px) rotate(0.5deg)
    }

    50% {
        transform: translate(-4px, 5px)
    }

    70% {
        transform: translate(2px, -2px)
    }

    100% {
        transform: translate(0) scale(1)
    }
}

/* ═══ PRE TEXT — "I AM" ═══ */
#preText {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 200;
    pointer-events: none;
    opacity: 0
}

#preText.show {
    opacity: 1
}

#preText.hide {
    opacity: 0;
    transition: opacity 0.15s
}

.iAm {
    font-family: 'Orbitron', monospace;
    font-size: clamp(30px, 5vw, 55px);
    font-weight: 700;
    color: rgba(168, 85, 247, 0.7);
    letter-spacing: 20px;
    text-transform: uppercase;
    text-shadow: 0 0 40px var(--pg), 0 0 80px var(--pg);
    animation: iAmPulse 0.6s ease infinite alternate
}

@keyframes iAmPulse {
    from {
        text-shadow: 0 0 40px var(--pg), 0 0 80px var(--pg);
        letter-spacing: 20px
    }

    to {
        text-shadow: 0 0 60px var(--pg), 0 0 120px rgba(124, 45, 255, 0.5), 0 0 200px rgba(124, 45, 255, 0.2);
        letter-spacing: 25px
    }
}

/* ═══ THE NAME — MAIN EVENT ═══ */
#nameReveal {
    position: fixed;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 300;
    pointer-events: none;
    opacity: 0
}

#nameReveal.go {
    opacity: 1
}

#nameGlitch {
    position: relative
}

#nameGlitch.glitching {
    animation: nameGlitchAnim 0.1s steps(2) 6
}

@keyframes nameGlitchAnim {
    0% {
        transform: translate(-3px, 2px) skewX(-3deg);
        filter: hue-rotate(90deg)
    }

    25% {
        transform: translate(4px, -1px) skewX(2deg);
        filter: hue-rotate(-60deg)
    }

    50% {
        transform: translate(-2px, -3px) skewX(-1deg);
        filter: hue-rotate(45deg)
    }

    75% {
        transform: translate(3px, 1px) skewX(3deg);
        filter: hue-rotate(-30deg)
    }

    100% {
        transform: translate(0);
        filter: hue-rotate(0)
    }
}

#mainName {
    font-family: 'Orbitron', monospace;
    font-size: clamp(50px, 12vw, 160px);
    font-weight: 900;
    color: #fff;
    letter-spacing: clamp(5px, 1.5vw, 18px);
    line-height: 1;
    white-space: nowrap;
    text-shadow: 0 0 80px rgba(124, 45, 255, 1), 0 0 160px rgba(124, 45, 255, 0.6),
        0 0 300px rgba(124, 45, 255, 0.3), 0 0 500px rgba(124, 45, 255, 0.15);
    animation: nameBreath 2s 1s ease-in-out infinite
}

@keyframes nameBreath {

    0%,
    100% {
        text-shadow: 0 0 80px rgba(124, 45, 255, 1), 0 0 160px rgba(124, 45, 255, 0.6), 0 0 300px rgba(124, 45, 255, 0.3)
    }

    50% {
        text-shadow: 0 0 100px rgba(168, 85, 247, 1), 0 0 200px rgba(124, 45, 255, 0.8), 0 0 400px rgba(124, 45, 255, 0.4), 0 0 600px rgba(0, 212, 255, 0.15)
    }
}

/* Individual letter animations */
.letter {
    display: inline-block;
    opacity: 0;
    transform: scale(0) translateY(50px);
    animation: none
}

.letter.pop {
    animation: letterPop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    animation-delay: calc(var(--i) * 0.035s)
}

@keyframes letterPop {
    0% {
        opacity: 0;
        transform: scale(0) translateY(80px) rotate(25deg);
        text-shadow: 0 0 0 transparent
    }

    50% {
        opacity: 1;
        transform: scale(1.4) translateY(-10px) rotate(-5deg);
        text-shadow: 0 0 100px rgba(124, 45, 255, 1), 0 0 200px rgba(0, 212, 255, 0.8)
    }

    100% {
        opacity: 1;
        transform: scale(1) translateY(0) rotate(0);
        text-shadow: 0 0 80px rgba(124, 45, 255, 1), 0 0 160px rgba(124, 45, 255, 0.6)
    }
}

.spacer {
    display: inline-block;
    width: clamp(15px, 3vw, 40px)
}

/* Persistent name effects after reveal */
#mainName.live {
    animation: nameBreath 2s ease-in-out infinite, nameGlitchPersist 8s ease infinite
}

@keyframes nameGlitchPersist {

    0%,
    88%,
    100% {
        transform: none;
        filter: none
    }

    89% {
        transform: translateX(-4px) skewX(-2deg);
        filter: hue-rotate(30deg)
    }

    90% {
        transform: translateX(4px) skewX(2deg);
        filter: hue-rotate(-30deg)
    }

    91% {
        transform: none;
        filter: none
    }
}

/* ═══ SUB TEXT — "A T O M I C" ═══ */
#subText {
    font-family: 'Space Mono', monospace;
    font-size: clamp(12px, 2vw, 22px);
    letter-spacing: clamp(8px, 2vw, 25px);
    color: rgba(168, 85, 247, 0.6);
    text-transform: uppercase;
    margin-top: 20px;
    opacity: 0;
    text-shadow: 0 0 20px var(--pg), 0 0 40px rgba(124, 45, 255, 0.3)
}

#subText.show {
    animation: subReveal 0.5s 0.3s ease forwards
}

@keyframes subReveal {
    from {
        opacity: 0;
        letter-spacing: clamp(20px, 5vw, 60px);
        filter: blur(8px)
    }

    to {
        opacity: 1;
        letter-spacing: clamp(8px, 2vw, 25px);
        filter: blur(0)
    }
}

/* ═══ IMPACT FLASH ═══ */
#impactFlash {
    position: fixed;
    inset: 0;
    z-index: 500;
    pointer-events: none;
    opacity: 0;
    background: radial-gradient(circle at 50% 50%, #fff 0%, rgba(168, 85, 247, 0.8) 30%, rgba(124, 45, 255, 0.4) 60%, transparent 80%)
}

#impactFlash.fire {
    animation: impactBurst 0.35s ease forwards
}

@keyframes impactBurst {
    0% {
        opacity: 0;
        transform: scale(0.3)
    }

    15% {
        opacity: 1;
        transform: scale(1)
    }

    30% {
        opacity: 0.8;
        transform: scale(1.1)
    }

    100% {
        opacity: 0;
        transform: scale(1.5)
    }
}

/* ═══ SHOCKWAVE ═══ */
#shockwave {
    position: fixed;
    top: 50%;
    left: 50%;
    z-index: 250;
    pointer-events: none;
    width: 0;
    height: 0;
    border-radius: 50%;
    border: 3px solid rgba(168, 85, 247, 0.8);
    box-shadow: 0 0 30px rgba(124, 45, 255, 0.6), 0 0 60px rgba(0, 212, 255, 0.3),
        inset 0 0 30px rgba(124, 45, 255, 0.4);
    transform: translate(-50%, -50%);
    opacity: 0
}

#shockwave.expand {
    animation: shockwaveExpand 0.8s ease-out forwards
}

@keyframes shockwaveExpand {
    0% {
        width: 0;
        height: 0;
        opacity: 1;
        border-width: 4px
    }

    50% {
        opacity: 0.6;
        border-width: 2px
    }

    100% {
        width: 250vw;
        height: 250vw;
        opacity: 0;
        border-width: 1px
    }
}

/* ═══ BURST LINES ═══ */
.burstLine {
    position: fixed;
    top: 50%;
    left: 50%;
    z-index: 220;
    pointer-events: none;
    height: 3px;
    width: 0;
    transform-origin: left center;
    opacity: 0;
    background: linear-gradient(90deg, rgba(168, 85, 247, 0.9), rgba(0, 212, 255, 0.6), transparent);
    box-shadow: 0 0 15px var(--pg)
}

.burstLine.fire {
    animation: burstExpand 0.6s ease-out forwards
}

.bl1 {
    transform: translate(-50%, -50%) rotate(0deg)
}

.bl2 {
    transform: translate(-50%, -50%) rotate(30deg)
}

.bl3 {
    transform: translate(-50%, -50%) rotate(60deg)
}

.bl4 {
    transform: translate(-50%, -50%) rotate(90deg)
}

.bl5 {
    transform: translate(-50%, -50%) rotate(120deg)
}

.bl6 {
    transform: translate(-50%, -50%) rotate(150deg)
}

.bl7 {
    transform: translate(-50%, -50%) rotate(180deg)
}

.bl8 {
    transform: translate(-50%, -50%) rotate(210deg)
}

.bl9 {
    transform: translate(-50%, -50%) rotate(240deg)
}

.bl10 {
    transform: translate(-50%, -50%) rotate(270deg)
}

.bl11 {
    transform: translate(-50%, -50%) rotate(300deg)
}

.bl12 {
    transform: translate(-50%, -50%) rotate(330deg)
}

@keyframes burstExpand {
    0% {
        width: 0;
        opacity: 1
    }

    40% {
        opacity: 0.8
    }

    100% {
        width: 150vw;
        opacity: 0
    }
}

/* ═══ CHROMATIC ABERRATION ═══ */
#chromatic {
    position: fixed;
    inset: 0;
    z-index: 400;
    pointer-events: none;
    opacity: 0;
    mix-blend-mode: screen
}

#chromatic.fire {
    animation: chromaticFire 0.4s ease forwards
}

@keyframes chromaticFire {
    0% {
        opacity: 0
    }

    20% {
        opacity: 0.7;
        background: linear-gradient(90deg, rgba(255, 0, 0, 0.15) 0%, transparent 33%, transparent 66%, rgba(0, 100, 255, 0.15) 100%)
    }

    40% {
        opacity: 0.5;
        background: linear-gradient(90deg, rgba(0, 100, 255, 0.1) 0%, transparent 33%, transparent 66%, rgba(255, 0, 0, 0.1) 100%)
    }

    100% {
        opacity: 0
    }
}

/* ═══ AFTER GLITCH ═══ */
#afterGlitch {
    position: fixed;
    inset: 0;
    z-index: 350;
    pointer-events: none;
    opacity: 0
}

#afterGlitch.fire {
    animation: afterGlitchAnim 2s ease forwards
}

@keyframes afterGlitchAnim {

    0%,
    15%,
    25%,
    35%,
    100% {
        opacity: 0;
        transform: none
    }

    10% {
        opacity: 1;
        transform: translateX(-5px);
        background: rgba(168, 85, 247, 0.05)
    }

    20% {
        opacity: 0.8;
        transform: translateX(5px);
        background: rgba(0, 212, 255, 0.05)
    }

    30% {
        opacity: 0.6;
        transform: translateX(-3px);
        background: rgba(255, 45, 85, 0.03)
    }
}

/* ═══ REPLAY HINT ═══ */
#replayHint {
    position: fixed;
    bottom: 4vh;
    left: 50%;
    transform: translateX(-50%);
    z-index: 600;
    font-family: 'Space Mono', monospace;
    font-size: 10px;
    letter-spacing: 4px;
    color: rgba(168, 85, 247, 0.2);
    cursor: pointer;
    opacity: 0;
    pointer-events: none;
    transition: color 0.3s
}

#replayHint.show {
    opacity: 1;
    pointer-events: all;
    animation: replayPulse 2s ease infinite
}

#replayHint:hover {
    color: rgba(168, 85, 247, 0.6)
}

@keyframes replayPulse {

    0%,
    100% {
        opacity: 0.2
    }

    50% {
        opacity: 0.5
    }
}
